<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;700&display=swap" rel="stylesheet">
		<title>Carrito</title>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
		<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" >
		<link rel="stylesheet" href="./css/styles.css" />
	</head>
	<body>
		<div th:replace="components/layouts :: header">&nbsp;</div>
		<div th:replace="components/layouts :: menu (user=${user}, error=${loginError})">&nbsp;</div>
		<div th:replace="components/layouts :: modalLogin">&nbsp;</div>
		
		<div class="container-fluid">
			<div class="row text-center">
				<div class="card h-100">
					<div class="card-body">
						<div class="row">
							<div class="col-lg-9">
								<table class="table">
									<thead>
										<tr>
											<th scope="col">Producto</th>
											<th scope="col">Precio</th>
											<th scope="col">Cantidad</th>
											<th scope="col">Total</th>
											<th scope="col">Acción</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="cartProduct:${cartProducts}">
											<td th:text="${cartProduct.description}"></td>
											<td th:text="${cartProduct.price}"></td>
											<td th:text="${cartProduct.qty}"></td>
											<td th:text="${cartProduct.total}"></td>
											<td><a th:href="@{/cart/delete/product/{id} (id=${cartProduct.id}) }" class="btn btn-danger">Quitar</a></td>
										</tr>
									</tbody>
								</table>
							</div>
		
							<div class="col-lg-3">
								<h2 class="card-title">TOTAL</h2>
		
								<ul class="list-group">
									<li class="list-group-item"><h5 th:text="${totalCart}"></h5></li>
									<a th:href="@{/cart/buy}"  class="btn btn-dark"> Hacer pedido</a>
									<a th:href="@{/cart/orders}"  class="btn btn-primary"> Ver pedidos</a>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container" th:replace="components/layouts :: footer"></div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
		<script th:replace="components/layouts :: js"></script>
	</body>
</html>
